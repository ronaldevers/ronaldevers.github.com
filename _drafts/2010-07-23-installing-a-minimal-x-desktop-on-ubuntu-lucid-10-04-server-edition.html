---
title: 
layout: post
---

'2010-07-23 07:57:29','I don\'t like Gnome or KDE. They are not transparent enough for me, I feel like way too much crap gets installed with them and I especially hate audio setup in them. Gnome in Ubuntu 9.10 Desktop has ALSA, OSS, ESD and PulseAudio installed and it feels like they are continuously fighting each other.\r\n\r\nSo I decided to start over. In this post I outline the steps I took to setup my desktop. But first, my goals:\r\n<ul>\r\n	<li>minimal, understandable setup</li>\r\n	<li>wmii (suckless.org) as window manager</li>\r\n	<li>no display manager, because you don\'t need one!</li>\r\n	<li>vnc access over ssh tunnel</li>\r\n	<li>browser</li>\r\n	<li>audio, Music Player Daemon (mpd), Practical Music Search (pms)</li>\r\n</ul>\r\n\r\n<!--more-->\r\n\r\n<h2>Base system</h2>\r\nDownload and install Ubuntu 10.04 (Lucid) Server edition for a minimal base. Lucid boots fast and the server install feels clean.\r\n\r\n<code>sudo aptitude install openssh-server</code>\r\n<h2>X and wmii</h2>\r\nTo enjoy a graphical \'desktop\' all you really need is an X server. But because manually managing your windows quickly becomes annoying, you also want a window manager. A display manager (like xdm/gdm/kdm etc.) however, is unneeded in my opinion. A display manager can provide a graphical login window but I don\'t care for that. I just login on a console and run <code>startx</code>.\r\n\r\nTo install an X server:\r\n\r\n<code>sudo aptitude install xorg</code>\r\n\r\nTo install wmii, my window manager of choice:\r\n\r\n<code>sudo aptitude install g++ pkg-config libxrandr-dev libxinerama-dev\r\nsudo ln -s /usr/include/freetype /usr/include/freetype2/freetype\r\nwget http://dl.suckless.org/wmii/wmii+ixp-3.9b1.tbz\r\ntar jxvf wmii+ixp-3.9b1.tgz\r\ncd wmii+ixp-3.9b1\r\nmake\r\nmake install\r\n</code>\r\n\r\nNow make a <code>.xinitrc</code> file in your home directory with the following contents:\r\n\r\n<code>until wmii; do true done</code>\r\n\r\nThis will start wmii when X is started and restart it when you quit it. If you want quitting the window manager to shut down the X server, you should get rid of the loop construct and just put <code>exec wmii</code> in the .xinitrc.\r\n<h2>VNC access</h2>\r\n<code>sudo aptitude install vnc4server</code>\r\n\r\nStart a VNC server with <code>vncserver</code>. It will ask you for a password and setup a <code>~/.vnc</code> directory with a <code>xstartup</code> file. Change the last line such that not <code>twm</code> but<code>wmii</code> is started.\r\n\r\nWhen outside your local lan, start an SSH tunnel and forward the proper ports. You probably need to forward port 5900.\r\n\r\n<code>ssh -L 5900:localhost:5900 user@your.home.server</code>\r\n<h2>Browser</h2>\r\nI like vimperator so I\'m going with firefox. Open up aptitude (with sudo) and go to Options &gt; Preferences and uncheck \"Install recommended packages automatically\". Now you can go ahead and install the firefox package without a whole bunch of recommended and suggested packages being drawn in with it.\r\n\r\nOn vimperator.org, I installed the vimperator plugin. Strange problem though: I can\'t access the :help in vimperator. When I enter :help, it just does nothing. Everything else seems to work. I\'m clueless! If anyone has an idea, please let me know at ronaldpaulusevers@gmail.com!\r\n<h2>Audio</h2>\r\nGosh! I did not know that setting up sound in Linux is such a PITA. I have dedicated another post to this subject. <a href=\"/posts/9\">See my post on audio in Linux</a>.','Installing a minimal X desktop on Ubuntu Lucid (10.04) server edition','','publish','open','open','','installing-a-minimal-x-desktop-on-ubuntu-lucid-10-04-server-edition','','','2010-07-26 18:22:52','2010-07-26 16:22:52','',0,'http://blog.ronaldevers.nl/?p=21',0,'post','',0);
